<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <title>GA4 URL 參數測試</title>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){ dataLayer.push(arguments); }

      // 初始化 GA4
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX');

      // 抓 URL 參數
      const params = new URLSearchParams(window.location.search);
      const agt = params.get('agt') || 'none';
      const path = params.get('path') || 'none';

      // 傳送自訂事件
      gtag('event', 'landing_from_url', {
        agt: agt,
        path: path
      });
    </script>

    <style>
      body {
        font-family: sans-serif;
        padding: 2rem;
        background: #f7f7f7;
      }
      .box {
        background: white;
        padding: 1.5rem;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
      }
    </style>
  </head>
  <body>
    <div class="box">
      <h1>GA4 測試頁面</h1>
      <p><strong>agt:</strong> <span id="agtVal"></span></p>
      <p><strong>path:</strong> <span id="pathVal"></span></p>
      <p>你可以修改網址列中的 <code>?agt=abc123&path=root</code> 再重新整理。</p>
    </div>

    <script>
      document.getElementById('agtVal').innerText = agt;
      document.getElementById('pathVal').innerText = path;
    </script>
  </body>
</html>